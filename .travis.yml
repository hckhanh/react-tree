language: node_js
node_js:
  - "node"

sudo: false

cache:
  directories:
    - node_modules

before_install:
  - npm config set spin false

install:
  - npm install

script:
  - npm test

before_deploy:
  - npm run build

deploy:
  provider: npm
  api_key: $NPM_API_KEY
  on:
    tags: true
